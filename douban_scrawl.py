import requests
from lxml import html

# url_doubna_subject = 'https://movie.douban.com/subject/26654498/'

# # url = 'https://movie.douban.com/'#需要爬数据的网址
# url =url_doubna_subject


movie_subject_url_list=[
    "https://movie.douban.com/subject/1292063/",
    "https://movie.douban.com/subject/1291549/",
    "https://movie.douban.com/subject/1291858/",
    "https://movie.douban.com/subject/6786002/",
    "https://movie.douban.com/subject/1294371/",
    "https://movie.douban.com/subject/1292213/",
    "https://movie.douban.com/subject/25662329/",
    "https://movie.douban.com/subject/3793023/",
    "https://movie.douban.com/subject/3319755/",
    "https://movie.douban.com/subject/20495023/",
    "https://movie.douban.com/subject/1293908/",
    "https://movie.douban.com/subject/2129039/",
    "https://movie.douban.com/subject/1293839/",
    "https://movie.douban.com/subject/1293350/",
    "https://movie.douban.com/subject/26752088/",
    "https://movie.douban.com/subject/3742360/",
    "https://movie.douban.com/subject/1299398/",
    "https://movie.douban.com/subject/1293460/",
    "https://movie.douban.com/subject/1303037/",
    "https://movie.douban.com/subject/27060077/",
    "https://movie.douban.com/subject/11525673/",
    "https://movie.douban.com/subject/1291832/",
    "https://movie.douban.com/subject/1310177/",
    "https://movie.douban.com/subject/1293359/",
    "https://movie.douban.com/subject/10777687/",
    "https://movie.douban.com/subject/1858711/",
    "https://movie.douban.com/subject/3072124/",
    "https://movie.douban.com/subject/1295646/",
    "https://movie.douban.com/subject/34908189/",
    "https://movie.douban.com/subject/1291543/",
    "https://movie.douban.com/subject/1302425/",
    "https://movie.douban.com/subject/1296909/",
    "https://movie.douban.com/subject/1295409/",
    "https://movie.douban.com/subject/1291579/",
    "https://movie.douban.com/subject/10577869/",
    "https://movie.douban.com/subject/10533913/",
    "https://movie.douban.com/subject/4917726/",
    "https://movie.douban.com/subject/1292274/",
    "https://movie.douban.com/subject/24750126/",
    "https://movie.douban.com/subject/1307697/",
    "https://movie.douban.com/subject/1306249/",
    "https://movie.douban.com/subject/1298817/",
    "https://movie.douban.com/subject/1297518/",
    "https://movie.douban.com/subject/1316510/",
    "https://movie.douban.com/subject/11026735/",
    "https://movie.douban.com/subject/1292215/",
    "https://movie.douban.com/subject/1907966/",
    "https://movie.douban.com/subject/27059130/",
    "https://movie.douban.com/subject/6534248/",
    "https://movie.douban.com/subject/1867345/",
    "https://movie.douban.com/subject/1322848/",
    "https://movie.douban.com/subject/1862151/",
    "https://movie.douban.com/subject/3287562/",
    "https://movie.douban.com/subject/1890572/",
    "https://movie.douban.com/subject/1303418/",
    "https://movie.douban.com/subject/1300555/",
    "https://movie.douban.com/subject/1292401/",
    "https://movie.douban.com/subject/27119586/",
    "https://movie.douban.com/subject/1291578/",
    "https://movie.douban.com/subject/1293270/",
    "https://movie.douban.com/subject/6874403/",
    "https://movie.douban.com/subject/27000061/",
    "https://movie.douban.com/subject/1291575/",
    "https://movie.douban.com/subject/1302476/",
    "https://movie.douban.com/subject/1297478/",
    "https://movie.douban.com/subject/3007773/",
    "https://movie.douban.com/subject/1292055/",
    "https://movie.douban.com/subject/4739952/",
    "https://movie.douban.com/subject/6019180/",
    "https://movie.douban.com/subject/1291838/",
    "https://movie.douban.com/subject/1300613/",
    "https://movie.douban.com/subject/1292574/",
    "https://movie.douban.com/subject/4876722/",
    "https://movie.douban.com/subject/26614893/",
    "https://movie.douban.com/subject/1300064/",
    "https://movie.douban.com/subject/1300883/",
    "https://movie.douban.com/subject/2133323/",
    "https://movie.douban.com/subject/1421278/",
    "https://movie.douban.com/subject/24741412/",
    "https://movie.douban.com/subject/2132220/",
    "https://movie.douban.com/subject/1291586/",
    "https://movie.douban.com/subject/1793491/",
    "https://movie.douban.com/subject/6850547/",
    "https://movie.douban.com/subject/1293374/",
    "https://movie.douban.com/subject/1303408/",
    "https://movie.douban.com/subject/3157605/",
    "https://movie.douban.com/subject/25884416/",
    "https://movie.douban.com/subject/26794435/",
    "https://movie.douban.com/subject/1291565/",
    "https://movie.douban.com/subject/1291574/",
    "https://movie.douban.com/subject/1292056/",
    "https://movie.douban.com/subject/1297418/",
    "https://movie.douban.com/subject/10772258/",
    "https://movie.douban.com/subject/2982823/",
    "https://movie.douban.com/subject/1759386/",
    "https://movie.douban.com/subject/3796613/",
    "https://movie.douban.com/subject/1307739/",
    "https://movie.douban.com/subject/4202982/",
    "https://movie.douban.com/subject/1301171/",
    "https://movie.douban.com/subject/24405378/",
    "https://movie.douban.com/subject/1303173/",
    "https://movie.douban.com/subject/1297995/",
    "https://movie.douban.com/subject/1296987/",
    "https://movie.douban.com/subject/26393561/",
    "https://movie.douban.com/subject/1294490/",
    "https://movie.douban.com/subject/1292529/",
    "https://movie.douban.com/subject/1296436/",
    "https://movie.douban.com/subject/1293088/",
    "https://movie.douban.com/subject/10741643/",
    "https://movie.douban.com/subject/6880497/",
    "https://movie.douban.com/subject/1298112/",
    "https://movie.douban.com/subject/1303907/",
    "https://movie.douban.com/subject/1853621/",
    "https://movie.douban.com/subject/1295815/",
    "https://movie.douban.com/subject/1295684/",
    "https://movie.douban.com/subject/1417728/",
    "https://movie.douban.com/subject/26952704/",
    "https://movie.douban.com/subject/26700818/",
    "https://movie.douban.com/subject/25921812/",
    "https://movie.douban.com/subject/35144311/",
    "https://movie.douban.com/subject/1292994/",
    "https://movie.douban.com/subject/1304056/",
    "https://movie.douban.com/subject/2124703/",
    "https://movie.douban.com/subject/1299092/",
    "https://movie.douban.com/subject/6985803/",
    "https://movie.douban.com/subject/1297102/",
    "https://movie.douban.com/subject/1297223/",
    "https://movie.douban.com/subject/1303376/",
    "https://movie.douban.com/subject/1309101/",
    "https://movie.douban.com/subject/26946612/",
    "https://movie.douban.com/subject/1307690/",
    "https://movie.douban.com/subject/1394218/",
    "https://movie.douban.com/subject/1477916/",
    "https://movie.douban.com/subject/1295933/",
    "https://movie.douban.com/subject/3789848/",
    "https://movie.douban.com/subject/1296666/",
    "https://movie.douban.com/subject/30170546/",
    "https://movie.douban.com/subject/3731581/",
    "https://movie.douban.com/subject/1292269/",
    "https://movie.douban.com/subject/26858510/",
    "https://movie.douban.com/subject/1777612/",
    "https://movie.douban.com/subject/1863766/",
    "https://movie.douban.com/subject/1299900/",
    "https://movie.douban.com/subject/2357162/",
    "https://movie.douban.com/subject/26654498/",
    "https://movie.douban.com/subject/1303485/",
    "https://movie.douban.com/subject/30211998/",
    "https://movie.douban.com/subject/1394488/",
    "https://movie.douban.com/subject/25858604/",
    "https://movie.douban.com/subject/30334073/",
    "https://movie.douban.com/subject/1434269/",
    "https://movie.douban.com/subject/1292778/",
    "https://movie.douban.com/subject/26356789/",
    "https://movie.douban.com/subject/1482072/",
    "https://movie.douban.com/subject/24879820/",
    "https://movie.douban.com/subject/24397586/",
    "https://movie.douban.com/subject/1293718/",
    "https://movie.douban.com/subject/1783457/",
    "https://movie.douban.com/subject/1292049/",
    "https://movie.douban.com/subject/1292286/",
    "https://movie.douban.com/subject/26844922/",
    "https://movie.douban.com/subject/6097775/",
    "https://movie.douban.com/subject/1292553/",
    "https://movie.douban.com/subject/1308741/",
    "https://movie.douban.com/subject/4009651/",
    "https://movie.douban.com/subject/1783772/",
    "https://movie.douban.com/subject/1291842/",
    "https://movie.douban.com/subject/1301445/",
    "https://movie.douban.com/subject/1307547/",
    "https://movie.douban.com/subject/1291577/",
    "https://movie.douban.com/subject/35284253/",
    "https://movie.douban.com/subject/1300616/",
    "https://movie.douban.com/subject/1851906/",
    "https://movie.douban.com/subject/1307708/",
    "https://movie.douban.com/subject/1298204/",
    "https://movie.douban.com/subject/1437342/",
    "https://movie.douban.com/subject/26640371/",
    "https://movie.douban.com/subject/1306870/",
    "https://movie.douban.com/subject/21359690/",
    "https://movie.douban.com/subject/4920528/",
    "https://movie.douban.com/subject/1292063/",
    "https://movie.douban.com/subject/1292063/",
    "https://movie.douban.com/subject/1291549/",
    "https://movie.douban.com/subject/1291549/",
    "https://movie.douban.com/subject/1291858/",
    "https://movie.douban.com/subject/1291858/",
    "https://movie.douban.com/subject/6786002/",
    "https://movie.douban.com/subject/6786002/",
    "https://movie.douban.com/subject/1294371/",
    "https://movie.douban.com/subject/1294371/",
    "https://movie.douban.com/subject/1292213/",
    "https://movie.douban.com/subject/1292213/",
    "https://movie.douban.com/subject/25662329/",
    "https://movie.douban.com/subject/25662329/",
    "https://movie.douban.com/subject/3793023/",
    "https://movie.douban.com/subject/3793023/",
    "https://movie.douban.com/subject/3319755/",
    "https://movie.douban.com/subject/3319755/",
    "https://movie.douban.com/subject/20495023/",
    "https://movie.douban.com/subject/20495023/",
    "https://movie.douban.com/subject/1293908/",
    "https://movie.douban.com/subject/1293908/",
    "https://movie.douban.com/subject/2129039/",
    "https://movie.douban.com/subject/2129039/",
    "https://movie.douban.com/subject/1293839/",
    "https://movie.douban.com/subject/1293839/",
    "https://movie.douban.com/subject/1293350/",
    "https://movie.douban.com/subject/1293350/",
    "https://movie.douban.com/subject/26752088/",
    "https://movie.douban.com/subject/26752088/",
    "https://movie.douban.com/subject/3742360/",
    "https://movie.douban.com/subject/3742360/",
    "https://movie.douban.com/subject/1299398/",
    "https://movie.douban.com/subject/1299398/",
    "https://movie.douban.com/subject/1293460/",
    "https://movie.douban.com/subject/1293460/",
    "https://movie.douban.com/subject/1303037/",
    "https://movie.douban.com/subject/1303037/",
    "https://movie.douban.com/subject/27060077/",
    "https://movie.douban.com/subject/27060077/",
    "https://movie.douban.com/subject/11525673/",
    "https://movie.douban.com/subject/11525673/",
    "https://movie.douban.com/subject/1291832/",
    "https://movie.douban.com/subject/1291832/",
    "https://movie.douban.com/subject/1310177/",
    "https://movie.douban.com/subject/1310177/",
    "https://movie.douban.com/subject/1293359/",
    "https://movie.douban.com/subject/1293359/",
    "https://movie.douban.com/subject/10777687/",
    "https://movie.douban.com/subject/10777687/",
    "https://movie.douban.com/subject/1858711/",
    "https://movie.douban.com/subject/1858711/",
    "https://movie.douban.com/subject/3072124/",
    "https://movie.douban.com/subject/3072124/",
    "https://movie.douban.com/subject/1295646/",
    "https://movie.douban.com/subject/1295646/",
    "https://movie.douban.com/subject/34908189/",
    "https://movie.douban.com/subject/34908189/",
    "https://movie.douban.com/subject/1291543/",
    "https://movie.douban.com/subject/1291543/",
    "https://movie.douban.com/subject/1302425/",
    "https://movie.douban.com/subject/1302425/",
    "https://movie.douban.com/subject/1296909/",
    "https://movie.douban.com/subject/1296909/",
    "https://movie.douban.com/subject/1295409/",
    "https://movie.douban.com/subject/1295409/",
    "https://movie.douban.com/subject/1291579/",
    "https://movie.douban.com/subject/1291579/",
    "https://movie.douban.com/subject/10577869/",
    "https://movie.douban.com/subject/10577869/",
    "https://movie.douban.com/subject/10533913/",
    "https://movie.douban.com/subject/10533913/",
    "https://movie.douban.com/subject/4917726/",
    "https://movie.douban.com/subject/4917726/",
    "https://movie.douban.com/subject/1292274/",
    "https://movie.douban.com/subject/1292274/",
    "https://movie.douban.com/subject/24750126/",
    "https://movie.douban.com/subject/24750126/",
    "https://movie.douban.com/subject/1307697/",
    "https://movie.douban.com/subject/1307697/",
    "https://movie.douban.com/subject/1306249/",
    "https://movie.douban.com/subject/1306249/",
    "https://movie.douban.com/subject/1298817/",
    "https://movie.douban.com/subject/1298817/",
    "https://movie.douban.com/subject/1297518/",
    "https://movie.douban.com/subject/1297518/",
    "https://movie.douban.com/subject/1316510/",
    "https://movie.douban.com/subject/1316510/",
    "https://movie.douban.com/subject/11026735/",
    "https://movie.douban.com/subject/11026735/",
    "https://movie.douban.com/subject/1292215/",
    "https://movie.douban.com/subject/1292215/",
    "https://movie.douban.com/subject/1907966/",
    "https://movie.douban.com/subject/1907966/",
    "https://movie.douban.com/subject/27059130/",
    "https://movie.douban.com/subject/27059130/",
    "https://movie.douban.com/subject/6534248/",
    "https://movie.douban.com/subject/6534248/",
    "https://movie.douban.com/subject/1867345/",
    "https://movie.douban.com/subject/1867345/",
    "https://movie.douban.com/subject/1322848/",
    "https://movie.douban.com/subject/1322848/",
    "https://movie.douban.com/subject/1862151/",
    "https://movie.douban.com/subject/1862151/",
    "https://movie.douban.com/subject/3287562/",
    "https://movie.douban.com/subject/3287562/",
    "https://movie.douban.com/subject/1890572/",
    "https://movie.douban.com/subject/1890572/",
    "https://movie.douban.com/subject/1303418/",
    "https://movie.douban.com/subject/1303418/",
    "https://movie.douban.com/subject/1300555/",
    "https://movie.douban.com/subject/1300555/",
    "https://movie.douban.com/subject/1292401/",
    "https://movie.douban.com/subject/1292401/",
    "https://movie.douban.com/subject/27119586/",
    "https://movie.douban.com/subject/27119586/",
    "https://movie.douban.com/subject/1291578/",
    "https://movie.douban.com/subject/1291578/",
    "https://movie.douban.com/subject/1293270/",
    "https://movie.douban.com/subject/1293270/",
    "https://movie.douban.com/subject/6874403/",
    "https://movie.douban.com/subject/6874403/",
    "https://movie.douban.com/subject/27000061/",
    "https://movie.douban.com/subject/27000061/",
    "https://movie.douban.com/subject/1291575/",
    "https://movie.douban.com/subject/1291575/",
    "https://movie.douban.com/subject/1302476/",
    "https://movie.douban.com/subject/1302476/",
    "https://movie.douban.com/subject/1297478/",
    "https://movie.douban.com/subject/1297478/",
    "https://movie.douban.com/subject/3007773/",
    "https://movie.douban.com/subject/3007773/",
    "https://movie.douban.com/subject/1292055/",
    "https://movie.douban.com/subject/1292055/",
    "https://movie.douban.com/subject/4739952/",
    "https://movie.douban.com/subject/4739952/",
    "https://movie.douban.com/subject/6019180/",
    "https://movie.douban.com/subject/6019180/",
    "https://movie.douban.com/subject/1291838/",
    "https://movie.douban.com/subject/1291838/",
    "https://movie.douban.com/subject/1300613/",
    "https://movie.douban.com/subject/1300613/",
    "https://movie.douban.com/subject/1292574/",
    "https://movie.douban.com/subject/1292574/",
    "https://movie.douban.com/subject/4876722/",
    "https://movie.douban.com/subject/4876722/",
    "https://movie.douban.com/subject/26614893/",
    "https://movie.douban.com/subject/26614893/",
    "https://movie.douban.com/subject/1300064/",
    "https://movie.douban.com/subject/1300064/",
    "https://movie.douban.com/subject/1300883/",
    "https://movie.douban.com/subject/1300883/",
    "https://movie.douban.com/subject/2133323/",
    "https://movie.douban.com/subject/2133323/",
    "https://movie.douban.com/subject/1421278/",
    "https://movie.douban.com/subject/1421278/",
    "https://movie.douban.com/subject/24741412/",
    "https://movie.douban.com/subject/24741412/",
    "https://movie.douban.com/subject/2132220/",
    "https://movie.douban.com/subject/2132220/",
    "https://movie.douban.com/subject/1291586/",
    "https://movie.douban.com/subject/1291586/",
    "https://movie.douban.com/subject/1793491/",
    "https://movie.douban.com/subject/1793491/",
    "https://movie.douban.com/subject/6850547/",
    "https://movie.douban.com/subject/6850547/",
    "https://movie.douban.com/subject/1293374/",
    "https://movie.douban.com/subject/1293374/",
    "https://movie.douban.com/subject/1303408/",
    "https://movie.douban.com/subject/1303408/",
    "https://movie.douban.com/subject/3157605/",
    "https://movie.douban.com/subject/3157605/",
    "https://movie.douban.com/subject/25884416/",
    "https://movie.douban.com/subject/25884416/",
    "https://movie.douban.com/subject/26794435/",
    "https://movie.douban.com/subject/26794435/",
    "https://movie.douban.com/subject/1291565/",
    "https://movie.douban.com/subject/1291565/",
    "https://movie.douban.com/subject/1291574/",
    "https://movie.douban.com/subject/1291574/",
    "https://movie.douban.com/subject/1292056/",
    "https://movie.douban.com/subject/1292056/",
    "https://movie.douban.com/subject/1297418/",
    "https://movie.douban.com/subject/1297418/",
    "https://movie.douban.com/subject/10772258/",
    "https://movie.douban.com/subject/10772258/",
    "https://movie.douban.com/subject/2982823/",
    "https://movie.douban.com/subject/2982823/",
    "https://movie.douban.com/subject/1759386/",
    "https://movie.douban.com/subject/1759386/",
    "https://movie.douban.com/subject/3796613/",
    "https://movie.douban.com/subject/3796613/",
    "https://movie.douban.com/subject/1307739/",
    "https://movie.douban.com/subject/1307739/",
    "https://movie.douban.com/subject/4202982/",
    "https://movie.douban.com/subject/4202982/",
    "https://movie.douban.com/subject/1301171/",
    "https://movie.douban.com/subject/1301171/",
    "https://movie.douban.com/subject/24405378/",
    "https://movie.douban.com/subject/24405378/",
    "https://movie.douban.com/subject/1303173/",
    "https://movie.douban.com/subject/1303173/",
    "https://movie.douban.com/subject/1297995/",
    "https://movie.douban.com/subject/1297995/",
    "https://movie.douban.com/subject/1296987/",
    "https://movie.douban.com/subject/1296987/",
    "https://movie.douban.com/subject/26393561/",
    "https://movie.douban.com/subject/26393561/",
    "https://movie.douban.com/subject/1294490/",
    "https://movie.douban.com/subject/1294490/",
    "https://movie.douban.com/subject/1292529/",
    "https://movie.douban.com/subject/1292529/",
    "https://movie.douban.com/subject/1296436/",
    "https://movie.douban.com/subject/1296436/",
    "https://movie.douban.com/subject/1293088/",
    "https://movie.douban.com/subject/1293088/",
    "https://movie.douban.com/subject/10741643/",
    "https://movie.douban.com/subject/10741643/",
    "https://movie.douban.com/subject/6880497/",
    "https://movie.douban.com/subject/6880497/",
    "https://movie.douban.com/subject/1298112/",
    "https://movie.douban.com/subject/1298112/",
    "https://movie.douban.com/subject/1303907/",
    "https://movie.douban.com/subject/1303907/",
    "https://movie.douban.com/subject/1853621/",
    "https://movie.douban.com/subject/1853621/",
    "https://movie.douban.com/subject/1295815/",
    "https://movie.douban.com/subject/1295815/",
    "https://movie.douban.com/subject/1295684/",
    "https://movie.douban.com/subject/1295684/",
    "https://movie.douban.com/subject/1417728/",
    "https://movie.douban.com/subject/1417728/",
    "https://movie.douban.com/subject/26952704/",
    "https://movie.douban.com/subject/26952704/",
    "https://movie.douban.com/subject/26700818/",
    "https://movie.douban.com/subject/26700818/",
    "https://movie.douban.com/subject/25921812/",
    "https://movie.douban.com/subject/25921812/",
    "https://movie.douban.com/subject/35144311/",
    "https://movie.douban.com/subject/35144311/",
    "https://movie.douban.com/subject/1292994/",
    "https://movie.douban.com/subject/1292994/",
    "https://movie.douban.com/subject/1304056/",
    "https://movie.douban.com/subject/1304056/",
    "https://movie.douban.com/subject/2124703/",
    "https://movie.douban.com/subject/2124703/",
    "https://movie.douban.com/subject/1299092/",
    "https://movie.douban.com/subject/1299092/",
    "https://movie.douban.com/subject/6985803/",
    "https://movie.douban.com/subject/6985803/",
    "https://movie.douban.com/subject/1297102/",
    "https://movie.douban.com/subject/1297102/",
    "https://movie.douban.com/subject/1297223/",
    "https://movie.douban.com/subject/1297223/",
    "https://movie.douban.com/subject/1303376/",
    "https://movie.douban.com/subject/1303376/",
    "https://movie.douban.com/subject/1309101/",
    "https://movie.douban.com/subject/1309101/",
    "https://movie.douban.com/subject/26946612/",
    "https://movie.douban.com/subject/26946612/",
    "https://movie.douban.com/subject/1307690/",
    "https://movie.douban.com/subject/1307690/",
    "https://movie.douban.com/subject/1394218/",
    "https://movie.douban.com/subject/1394218/",
    "https://movie.douban.com/subject/1477916/",
    "https://movie.douban.com/subject/1477916/",
    "https://movie.douban.com/subject/1295933/",
    "https://movie.douban.com/subject/1295933/",
    "https://movie.douban.com/subject/3789848/",
    "https://movie.douban.com/subject/3789848/",
    "https://movie.douban.com/subject/1296666/",
    "https://movie.douban.com/subject/1296666/",
    "https://movie.douban.com/subject/30170546/",
    "https://movie.douban.com/subject/30170546/",
    "https://movie.douban.com/subject/3731581/",
    "https://movie.douban.com/subject/3731581/",
    "https://movie.douban.com/subject/1292269/",
    "https://movie.douban.com/subject/1292269/",
    "https://movie.douban.com/subject/26858510/",
    "https://movie.douban.com/subject/26858510/",
    "https://movie.douban.com/subject/1777612/",
    "https://movie.douban.com/subject/1777612/",
    "https://movie.douban.com/subject/1863766/",
    "https://movie.douban.com/subject/1863766/",
    "https://movie.douban.com/subject/1299900/",
    "https://movie.douban.com/subject/1299900/",
    "https://movie.douban.com/subject/2357162/",
    "https://movie.douban.com/subject/2357162/",
    "https://movie.douban.com/subject/26654498/",
    "https://movie.douban.com/subject/26654498/",
    "https://movie.douban.com/subject/1303485/",
    "https://movie.douban.com/subject/1303485/",
    "https://movie.douban.com/subject/30211998/",
    "https://movie.douban.com/subject/30211998/",
    "https://movie.douban.com/subject/1394488/",
    "https://movie.douban.com/subject/1394488/",
    "https://movie.douban.com/subject/25858604/",
    "https://movie.douban.com/subject/25858604/",
    "https://movie.douban.com/subject/30334073/",
    "https://movie.douban.com/subject/30334073/",
    "https://movie.douban.com/subject/1434269/",
    "https://movie.douban.com/subject/1434269/",
    "https://movie.douban.com/subject/1292778/",
    "https://movie.douban.com/subject/1292778/",
    "https://movie.douban.com/subject/26356789/",
    "https://movie.douban.com/subject/26356789/",
    "https://movie.douban.com/subject/1482072/",
    "https://movie.douban.com/subject/1482072/",
    "https://movie.douban.com/subject/24879820/",
    "https://movie.douban.com/subject/24879820/",
    "https://movie.douban.com/subject/24397586/",
    "https://movie.douban.com/subject/24397586/",
    "https://movie.douban.com/subject/1293718/",
    "https://movie.douban.com/subject/1293718/",
    "https://movie.douban.com/subject/1783457/",
    "https://movie.douban.com/subject/1783457/",
    "https://movie.douban.com/subject/1292049/",
    "https://movie.douban.com/subject/1292049/",
    "https://movie.douban.com/subject/1292286/",
    "https://movie.douban.com/subject/1292286/",
    "https://movie.douban.com/subject/26844922/",
    "https://movie.douban.com/subject/26844922/",
    "https://movie.douban.com/subject/6097775/",
    "https://movie.douban.com/subject/6097775/",
    "https://movie.douban.com/subject/1292553/",
    "https://movie.douban.com/subject/1292553/",
    "https://movie.douban.com/subject/1308741/",
    "https://movie.douban.com/subject/1308741/",
    "https://movie.douban.com/subject/4009651/",
    "https://movie.douban.com/subject/4009651/",
    "https://movie.douban.com/subject/1783772/",
    "https://movie.douban.com/subject/1783772/",
    "https://movie.douban.com/subject/1291842/",
    "https://movie.douban.com/subject/1291842/",
    "https://movie.douban.com/subject/1301445/",
    "https://movie.douban.com/subject/1301445/",
    "https://movie.douban.com/subject/1307547/",
    "https://movie.douban.com/subject/1307547/",
    "https://movie.douban.com/subject/1291577/",
    "https://movie.douban.com/subject/1291577/",
    "https://movie.douban.com/subject/35284253/",
    "https://movie.douban.com/subject/35284253/",
    "https://movie.douban.com/subject/1300616/",
    "https://movie.douban.com/subject/1300616/",
    "https://movie.douban.com/subject/1851906/",
    "https://movie.douban.com/subject/1851906/",
    "https://movie.douban.com/subject/1307708/",
    "https://movie.douban.com/subject/1307708/",
    "https://movie.douban.com/subject/1298204/",
    "https://movie.douban.com/subject/1298204/",
    "https://movie.douban.com/subject/1437342/",
    "https://movie.douban.com/subject/1437342/",
    "https://movie.douban.com/subject/26640371/",
    "https://movie.douban.com/subject/26640371/",
    "https://movie.douban.com/subject/1306870/",
    "https://movie.douban.com/subject/1306870/",
    "https://movie.douban.com/subject/21359690/",
    "https://movie.douban.com/subject/21359690/",
    "https://movie.douban.com/subject/4920528/",
    "https://movie.douban.com/subject/4920528/"
]

doubna_type="subject"


header = {
    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36"
} #爬虫伪装
# page = requests.Session().get(url, headers=header)
# tree = html.fromstring(page.text)
# result = tree.xpath('//td[@class="title"]//a/text()')#获取需要的数据
# print(result)

# page.text

import time_util

# import json_ 
dir_douban="douban"

import json_util

log_dir="douban_log"
def scrawl_douban(url):
    now_time_str=time_util.get_now_time_str()

    # fileName=dir_douban+"/"+f"{doubna_type}_douban_scrawl_"+now_time_str+".html"
    fileName=dir_douban+"/"+now_time_str+".html"
    page = requests.Session().get(url, headers=header)
    print("fileName")
    print(fileName)
    
    
    
    with open(fileName, "w", encoding="utf-8") as f:
        f.write(page.text)
    # page.text

    log_json={
        "fileName":fileName,
        "now_time_str":now_time_str,
        "url":url,
    }
    log_str=json_util.json_obj_to_str(log_json)
    # json_util.save_json(log_json,log_dir+"/"+now_time_str+".json")
    # log_dir
    log_file=log_dir+"/"+now_time_str+".json"
    print("log_file")
    print(log_file)
    with open(log_file, "w", encoding="utf-8") as f:
        f.write(log_str)
    # get_now_ 

# 一周口碑榜
# ['火山挚恋', '西线无战事', '歇斯底里', '路易斯·阿姆斯特朗的黑人形象
# 与蓝调音乐', '6/45', '珀尔', '塔尔', '永别了，霍夫曼先生', '露草', '珍妮热线']
import time
# python 查看 时间 计时
# time.time()


start_time = time.time()
 
# #______假设下面是程序部分______
# for i in range(100*100):
#     pass
 
end_time = time.time()
use_sec= end_time - start_time
print('程序运行时间:%s毫秒' % ((end_time - start_time)*1000))

# python  sleep 
for movie_subject_url in movie_subject_url_list:
    scrawl_douban(movie_subject_url)
    time.sleep(1)

# time.sleep(N)
    # tim 
# now_time_str=time_util.get_now_time_str()
# log_file=log_dir+"/"+now_time_str+"_all.json"

now_time_str=time_util.get_now_time_str()

log_json={
    
    "now_time_str":now_time_str,
    "type":"douban",
    "movie_subject_url_list":movie_subject_url_list,
    "use_sec":use_sec,
}


def  do_log(log_json):
    # scrawl_douban(movie_subject_url_list[0])
    now_time_str=time_util.get_now_time_str()
    log_file=log_dir+"/"+now_time_str+"_all.json"

    # log_json={
    #     "fileName":fileName,
    #     "now_time_str":now_time_str,
    #     "url":url,
    # }
    log_str=json_util.json_obj_to_str(log_json)

    with open(log_file, "w", encoding="utf-8") as f:
        f.write(log_str)


do_log(log_json)